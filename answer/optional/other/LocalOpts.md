# LocalOpts

* 主要是对基本块内进行的各种优化

## 算术不变量

### 加法

* 检测加法表达式的某个操作数是否为0
* 对于形如`x1 = x + 0`，将`x1`的使用替换为`x`，并将`x1`删除

### 乘法

* 检测乘法表达式的某个操作数是否为1
* 对于形如`x1 = x * 0`，将`x1`的使用替换为`x`，并将`x1`删除

## 强度削弱

### 整数除以2

* 将除法削弱为算术右移指令

### 整数乘2

* 将乘法削弱为左移指令

## 连续指令的优化

只针对局部基本块内进行

```
b = a + 1
c = b - 1
d = c + 2
```

优化为

```
b = a + 1
d = a + 2
```

